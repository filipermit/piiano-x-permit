# piiano_vault_rest_api

PiianoVaultRestApi - JavaScript client for piiano_vault_rest_api
---
sidebar_position: 1
sidebar_label: Overview
slug: /
---

# Introduction

The Piiano Vault REST API enables you to access and manage collections, objects, tokens, users, policies, and other resources within Piiano Vault in a simple, programmatic way using conventional HTTP requests and standard HTTP response codes.

The API follows RESTful conventions when possible, with most operations performed by `GET`, `POST`, `PUT`, `PATCH`, and `DELETE` requests. Request and response bodies are [JSON-encoded](https://www.json.org/json-en.html). However, for collection operations, an SQL-like [PVSchema](/guides/manage-collections-and-schemas/reference/pvschema) encoding is available.

This API reference provides details for each operation available in the API.

When you install a local copy of Vault, you can try each operation using **Send API request**.

An OpenAPI specification is available in [YAML](@site/static/assets/openapi.yaml) and [JSON](@site/static/assets/openapi.json) formats and can be used to generate client code for the API.

This SDK is automatically generated by the [OpenAPI Generator](https://openapi-generator.tech) project:

- API version: 1.0
- Package version: 1.0
- Build package: org.openapitools.codegen.languages.JavascriptClientCodegen
For more information, please visit [https://piiano.com/contact-us/](https://piiano.com/contact-us/)

## Installation

### For [Node.js](https://nodejs.org/)

#### npm

To publish the library as a [npm](https://www.npmjs.com/), please follow the procedure in ["Publishing npm packages"](https://docs.npmjs.com/getting-started/publishing-npm-packages).

Then install it via:

```shell
npm install piiano_vault_rest_api --save
```

Finally, you need to build the module:

```shell
npm run build
```

##### Local development

To use the library locally without publishing to a remote npm registry, first install the dependencies by changing into the directory containing `package.json` (and this README). Let's call this `JAVASCRIPT_CLIENT_DIR`. Then run:

```shell
npm install
```

Next, [link](https://docs.npmjs.com/cli/link) it globally in npm with the following, also from `JAVASCRIPT_CLIENT_DIR`:

```shell
npm link
```

To use the link you just defined in your project, switch to the directory you want to use your piiano_vault_rest_api from, and run:

```shell
npm link /path/to/<JAVASCRIPT_CLIENT_DIR>
```

Finally, you need to build the module:

```shell
npm run build
```

#### git

If the library is hosted at a git repository, e.g.https://github.com/GIT_USER_ID/GIT_REPO_ID
then install it via:

```shell
    npm install GIT_USER_ID/GIT_REPO_ID --save
```

### For browser

The library also works in the browser environment via npm and [browserify](http://browserify.org/). After following
the above steps with Node.js and installing browserify with `npm install -g browserify`,
perform the following (assuming *main.js* is your entry file):

```shell
browserify main.js > bundle.js
```

Then include *bundle.js* in the HTML pages.

### Webpack Configuration

Using Webpack you may encounter the following error: "Module not found: Error:
Cannot resolve module", most certainly you should disable AMD loader. Add/merge
the following section to your webpack config:

```javascript
module: {
  rules: [
    {
      parser: {
        amd: false
      }
    }
  ]
}
```

## Getting Started

Please follow the [installation](#installation) instruction and execute the following JS code:

```javascript
var PiianoVaultRestApi = require('piiano_vault_rest_api');

var defaultClient = PiianoVaultRestApi.ApiClient.instance;
// Configure Bearer (JWT) access token for authorization: bearerAuth
var bearerAuth = defaultClient.authentications['bearerAuth'];
bearerAuth.accessToken = "YOUR ACCESS TOKEN"

var api = new PiianoVaultRestApi.CollectionsApi()
var modelsCollection = new PiianoVaultRestApi.ModelsCollection(); // {ModelsCollection} Details of the collection including its properties.
var opts = {
  'format': "'json'", // {String} The format of the response. Overrides any `Accept` header value provided.
  'options': ["null"] // {[String]} Options for the operation. Options include: - `show_builtins` â€“ show built-in properties in the response. 
};
var callback = function(error, data, response) {
  if (error) {
    console.error(error);
  } else {
    console.log('API called successfully. Returned data: ' + data);
  }
};
api.addCollection(modelsCollection, opts, callback);

```

## Documentation for API Endpoints

All URIs are relative to *http://localhost:8123*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*PiianoVaultRestApi.CollectionsApi* | [**addCollection**](docs/CollectionsApi.md#addCollection) | **POST** /api/pvlt/1.0/ctl/collections | Add collection
*PiianoVaultRestApi.CollectionsApi* | [**addCollectionProperty**](docs/CollectionsApi.md#addCollectionProperty) | **POST** /api/pvlt/1.0/ctl/collections/{collection}/properties/{property} | Add collection property
*PiianoVaultRestApi.CollectionsApi* | [**deleteCollection**](docs/CollectionsApi.md#deleteCollection) | **DELETE** /api/pvlt/1.0/ctl/collections/{collection} | Delete collection
*PiianoVaultRestApi.CollectionsApi* | [**deleteCollectionProperty**](docs/CollectionsApi.md#deleteCollectionProperty) | **DELETE** /api/pvlt/1.0/ctl/collections/{collection}/properties/{property} | Delete collection property
*PiianoVaultRestApi.CollectionsApi* | [**getAllCollections**](docs/CollectionsApi.md#getAllCollections) | **GET** /api/pvlt/1.0/ctl/collections | List collections
*PiianoVaultRestApi.CollectionsApi* | [**getCollection**](docs/CollectionsApi.md#getCollection) | **GET** /api/pvlt/1.0/ctl/collections/{collection} | Get collection
*PiianoVaultRestApi.CollectionsApi* | [**getCollectionProperty**](docs/CollectionsApi.md#getCollectionProperty) | **GET** /api/pvlt/1.0/ctl/collections/{collection}/properties/{property} | Get collection property
*PiianoVaultRestApi.CollectionsApi* | [**listCollectionProperties**](docs/CollectionsApi.md#listCollectionProperties) | **GET** /api/pvlt/1.0/ctl/collections/{collection}/properties | List collection properties
*PiianoVaultRestApi.CollectionsApi* | [**updateCollection**](docs/CollectionsApi.md#updateCollection) | **PATCH** /api/pvlt/1.0/ctl/collections/{collection} | Update collection
*PiianoVaultRestApi.CollectionsApi* | [**updateCollectionProperty**](docs/CollectionsApi.md#updateCollectionProperty) | **PATCH** /api/pvlt/1.0/ctl/collections/{collection}/properties/{property} | Update collection property
*PiianoVaultRestApi.ConfigVarsApi* | [**clearAllConfVars**](docs/ConfigVarsApi.md#clearAllConfVars) | **DELETE** /api/pvlt/1.0/system/confvar | Clear configuration variables
*PiianoVaultRestApi.ConfigVarsApi* | [**getConfVar**](docs/ConfigVarsApi.md#getConfVar) | **GET** /api/pvlt/1.0/system/confvar/{name} | Get configuration variable
*PiianoVaultRestApi.ConfigVarsApi* | [**setConfVar**](docs/ConfigVarsApi.md#setConfVar) | **POST** /api/pvlt/1.0/system/confvar/{name} | Set configuration variable
*PiianoVaultRestApi.DataTypesAndTransformationsApi* | [**listPropertyTypes**](docs/DataTypesAndTransformationsApi.md#listPropertyTypes) | **GET** /api/pvlt/1.0/ctl/types | List property types
*PiianoVaultRestApi.DataTypesAndTransformationsApi* | [**listTransformations**](docs/DataTypesAndTransformationsApi.md#listTransformations) | **GET** /api/pvlt/1.0/ctl/transformations | List transformations
*PiianoVaultRestApi.IAMApi* | [**getIamConf**](docs/IAMApi.md#getIamConf) | **GET** /api/pvlt/1.0/ctl/iam/conf | Get IAM configuration
*PiianoVaultRestApi.IAMApi* | [**regenerateUserApiKey**](docs/IAMApi.md#regenerateUserApiKey) | **POST** /api/pvlt/1.0/ctl/iam/user/regen | Regenerate user API key
*PiianoVaultRestApi.IAMApi* | [**setIamConf**](docs/IAMApi.md#setIamConf) | **POST** /api/pvlt/1.0/ctl/iam/conf | Set IAM configuration
*PiianoVaultRestApi.ObjectsApi* | [**addObject**](docs/ObjectsApi.md#addObject) | **POST** /api/pvlt/1.0/data/collections/{collection}/objects | Add object
*PiianoVaultRestApi.ObjectsApi* | [**deleteObjectById**](docs/ObjectsApi.md#deleteObjectById) | **DELETE** /api/pvlt/1.0/data/collections/{collection}/objects | Delete object
*PiianoVaultRestApi.ObjectsApi* | [**getObjects**](docs/ObjectsApi.md#getObjects) | **GET** /api/pvlt/1.0/data/collections/{collection}/objects | List objects
*PiianoVaultRestApi.ObjectsApi* | [**getObjectsProperty**](docs/ObjectsApi.md#getObjectsProperty) | **GET** /api/pvlt/1.0/data/collections/{collection}/properties/{property} | Get objects property
*PiianoVaultRestApi.ObjectsApi* | [**searchObjects**](docs/ObjectsApi.md#searchObjects) | **POST** /api/pvlt/1.0/data/collections/{collection}/query/objects | Search objects
*PiianoVaultRestApi.ObjectsApi* | [**updateObjectById**](docs/ObjectsApi.md#updateObjectById) | **PATCH** /api/pvlt/1.0/data/collections/{collection}/objects | Update object
*PiianoVaultRestApi.SystemApi* | [**controlHealth**](docs/SystemApi.md#controlHealth) | **GET** /api/pvlt/1.0/ctl/info/health | Get control service status
*PiianoVaultRestApi.SystemApi* | [**dataHealth**](docs/SystemApi.md#dataHealth) | **GET** /api/pvlt/1.0/data/info/health | Get data service status
*PiianoVaultRestApi.SystemApi* | [**garbageCollection**](docs/SystemApi.md#garbageCollection) | **POST** /api/pvlt/1.0/system/admin/lifecycle/gc | Purge objects and tokens
*PiianoVaultRestApi.SystemApi* | [**getClusterInfo**](docs/SystemApi.md#getClusterInfo) | **GET** /api/pvlt/1.0/ctl/info/cluster | Get cluster information
*PiianoVaultRestApi.SystemApi* | [**getConfiguration**](docs/SystemApi.md#getConfiguration) | **GET** /api/pvlt/1.0/system/info/configuration | Get system configuration
*PiianoVaultRestApi.SystemApi* | [**getKms**](docs/SystemApi.md#getKms) | **GET** /api/pvlt/1.0/system/info/kms | Get KMS status
*PiianoVaultRestApi.SystemApi* | [**getLicense**](docs/SystemApi.md#getLicense) | **GET** /api/pvlt/1.0/system/info/license | Get license
*PiianoVaultRestApi.SystemApi* | [**getVaultVersion**](docs/SystemApi.md#getVaultVersion) | **GET** /api/pvlt/1.0/system/info/version | Get Vault version
*PiianoVaultRestApi.SystemApi* | [**rotateKeys**](docs/SystemApi.md#rotateKeys) | **POST** /api/pvlt/1.0/system/admin/keys/rotate | Rotate data encryption keys
*PiianoVaultRestApi.SystemApi* | [**triggerError**](docs/SystemApi.md#triggerError) | **POST** /api/pvlt/1.0/system/debug/error/trigger | Trigger an artificial error
*PiianoVaultRestApi.TokensApi* | [**deleteTokens**](docs/TokensApi.md#deleteTokens) | **DELETE** /api/pvlt/1.0/data/collections/{collection}/tokens | Delete tokens
*PiianoVaultRestApi.TokensApi* | [**detokenize**](docs/TokensApi.md#detokenize) | **GET** /api/pvlt/1.0/data/collections/{collection}/tokens | Detokenize tokens
*PiianoVaultRestApi.TokensApi* | [**rotateTokens**](docs/TokensApi.md#rotateTokens) | **POST** /api/pvlt/1.0/data/collections/{collection}/rotate/tokens | Rotate tokens
*PiianoVaultRestApi.TokensApi* | [**searchTokens**](docs/TokensApi.md#searchTokens) | **POST** /api/pvlt/1.0/data/collections/{collection}/query/tokens | Search tokens
*PiianoVaultRestApi.TokensApi* | [**tokenize**](docs/TokensApi.md#tokenize) | **POST** /api/pvlt/1.0/data/collections/{collection}/tokens | Tokenize
*PiianoVaultRestApi.TokensApi* | [**updateTokens**](docs/TokensApi.md#updateTokens) | **PATCH** /api/pvlt/1.0/data/collections/{collection}/tokens | Update tokens


## Documentation for Models

 - [PiianoVaultRestApi.AuthConfig](docs/AuthConfig.md)
 - [PiianoVaultRestApi.AuthPolicy](docs/AuthPolicy.md)
 - [PiianoVaultRestApi.AuthRole](docs/AuthRole.md)
 - [PiianoVaultRestApi.AuthUser](docs/AuthUser.md)
 - [PiianoVaultRestApi.ConfigConfig](docs/ConfigConfig.md)
 - [PiianoVaultRestApi.ConfigDB](docs/ConfigDB.md)
 - [PiianoVaultRestApi.ConfigFeatures](docs/ConfigFeatures.md)
 - [PiianoVaultRestApi.ConfigGC](docs/ConfigGC.md)
 - [PiianoVaultRestApi.ConfigKMS](docs/ConfigKMS.md)
 - [PiianoVaultRestApi.ConfigLog](docs/ConfigLog.md)
 - [PiianoVaultRestApi.ConfigMigration](docs/ConfigMigration.md)
 - [PiianoVaultRestApi.ConfigSentry](docs/ConfigSentry.md)
 - [PiianoVaultRestApi.ConfigService](docs/ConfigService.md)
 - [PiianoVaultRestApi.ConfigTLS](docs/ConfigTLS.md)
 - [PiianoVaultRestApi.ConfigTTL](docs/ConfigTTL.md)
 - [PiianoVaultRestApi.GcDeletionCount](docs/GcDeletionCount.md)
 - [PiianoVaultRestApi.ModelsAPIKey](docs/ModelsAPIKey.md)
 - [PiianoVaultRestApi.ModelsAllGenerations](docs/ModelsAllGenerations.md)
 - [PiianoVaultRestApi.ModelsCollection](docs/ModelsCollection.md)
 - [PiianoVaultRestApi.ModelsConfVar](docs/ModelsConfVar.md)
 - [PiianoVaultRestApi.ModelsConfVarValue](docs/ModelsConfVarValue.md)
 - [PiianoVaultRestApi.ModelsDetokenizedToken](docs/ModelsDetokenizedToken.md)
 - [PiianoVaultRestApi.ModelsHealth](docs/ModelsHealth.md)
 - [PiianoVaultRestApi.ModelsKMSStatus](docs/ModelsKMSStatus.md)
 - [PiianoVaultRestApi.ModelsLicense](docs/ModelsLicense.md)
 - [PiianoVaultRestApi.ModelsObject](docs/ModelsObject.md)
 - [PiianoVaultRestApi.ModelsObjectFieldsPage](docs/ModelsObjectFieldsPage.md)
 - [PiianoVaultRestApi.ModelsObjectID](docs/ModelsObjectID.md)
 - [PiianoVaultRestApi.ModelsPIIType](docs/ModelsPIIType.md)
 - [PiianoVaultRestApi.ModelsPaging](docs/ModelsPaging.md)
 - [PiianoVaultRestApi.ModelsProductVersion](docs/ModelsProductVersion.md)
 - [PiianoVaultRestApi.ModelsProperty](docs/ModelsProperty.md)
 - [PiianoVaultRestApi.ModelsQuery](docs/ModelsQuery.md)
 - [PiianoVaultRestApi.ModelsQueryToken](docs/ModelsQueryToken.md)
 - [PiianoVaultRestApi.ModelsRotatedToken](docs/ModelsRotatedToken.md)
 - [PiianoVaultRestApi.ModelsTokenAggregatedMetadata](docs/ModelsTokenAggregatedMetadata.md)
 - [PiianoVaultRestApi.ModelsTokenMetadata](docs/ModelsTokenMetadata.md)
 - [PiianoVaultRestApi.ModelsTokenRefMetadata](docs/ModelsTokenRefMetadata.md)
 - [PiianoVaultRestApi.ModelsTokenValue](docs/ModelsTokenValue.md)
 - [PiianoVaultRestApi.ModelsTokenizeRequest](docs/ModelsTokenizeRequest.md)
 - [PiianoVaultRestApi.ModelsTransformation](docs/ModelsTransformation.md)
 - [PiianoVaultRestApi.ModelsUpdateTokenRequest](docs/ModelsUpdateTokenRequest.md)
 - [PiianoVaultRestApi.ModelsUserName](docs/ModelsUserName.md)
 - [PiianoVaultRestApi.ModelsVaultGeneration](docs/ModelsVaultGeneration.md)
 - [PiianoVaultRestApi.ModelsWorker](docs/ModelsWorker.md)
 - [PiianoVaultRestApi.RestHTTPError](docs/RestHTTPError.md)


## Documentation for Authorization



### bearerAuth

- **Type**: Bearer authentication (JWT)

